|选项|说明|
|---|----|
| 没对号 | 问题未解决|
| 有对号 | 问题已解决|

|项目|进度|
|---|----|
|MyTFTP|give up|
|MyTalk|complete|
|ScreenCap udp|delete|
|ScreenCap2 tcp|complete|
|MyBuildBuf|complete|

## 03月27号
- [x] 1. 调试链表程序，发现老是段错误？
	原因是我把同一个节点同时加入两个链表中，第二个链表修改该节点的prev,next指针，导致
    第一个链表段错误，切记切记！！！(一个节点在同一时刻只能在一个链表中)
- [x] 2. 程序加锁后，造成死锁的情况？
    在一个加锁的程序片段中，调用一个使用同样锁的函数调用，导致死锁的情况

## 03月28号
- [x] 1. 在将事件加入任务队列后没有删除导致，后续该事件有没有触发都会调用此回调函数？
    在执行过的回调函数后删除事件，是否再次加入由客户逻辑决定  
		(必须这么做)
- [x] 2. 创建两个线程后，idle_task进入无限循环？？？
    创建两个线程后加入空闲队列，然后等待后又加入队列，造成链表混乱
    解决： 初始创建后不加入队列
    引申出的问题：
    遍历空队列时，Begin方法返回空，造成与End比较时出现程序崩溃
	解决方法：队列为空就返回 End 的值

## 04月15号
- [x] 1. 编写调试输出的可变测宏时，发现编译不过?
	应将MyDebugPrint(format, ...) 改为 MyDebugPrint(...), 这样在只有format参数的时候也不会出错。

## 04月16号
- [x] 1. 事件删除操作还没有做，目前事件删除会造成内存泄漏。

## 04月17号
- [x] 1. 编写完成MyTFTP类，**give up**  
	存在的问题：
	发送读文件请求时后，服务无回应ack(没有什么影响)
	需要修改GetFile,SendFile为阻塞调用 (已经修改为阻塞函数)

## 04月20号
- [x] 1. 使用消息队列控制服务进行某些参数的配置，以及可以获得服务的运行状态（use root）  **delay**
- [x] 2. 要编写通用的类，使普通任务也能使用线程池
- [ ] 3. MyTFTP 潜在的问题： 对于请求的不存在的文件没有进行错误处理    **delay**

## 04月22号
- [x] 1. 由于加入配置功能(msgget)，以后程序的运行要使用 sudo 启动 **已定义宏可以开关此功能**

## 04月23号
- [x] 1. 添加MySelfprotcol类
- [ ] 2. 添加设置udp 广播属性，可以发送广播包 **未测试**

## 04月28号
- [x] 1. MyUdp Write方法添加mutex互斥量
- [x] 2. 设置MyEvent的类以及继承Myevent类的析构函数为虚函数
- [x] 3. 修复MySqlite3的一个BUG(GetRow判断的bug，修改 < 为 <=)
- [x] 4. 编写MyTalk项目， 实现了登录的功能 **complete**

## 04月30号
- [ ] 1. 编写Mytalk项目，实现传输好友的功能; 需要添加选项ip，在线状态
- [x] 2. 用户登录过程中，服务需要记录用户的ip，并标记在线

## 05月09号
- [x] 1. 编写MyTalk项目，实现一对一聊天功能
- [x] 2. 在界面与聊天逻辑之间添加代理类，使用信号与槽的通信机制，
   使用代理类即保持了界面与聊天逻辑的松耦合，又解决了不同线程间调用界面函数失败的问题
- [ ] 3. 界面要添加在线状态标志, 添加登录超时避免程序卡死状态，消息框消息左右对齐问题
- [ ] 4. 添加 注册 用户功能， 查找用户功能， 添加 删除好友功能

## 05月11号
- [ ] 1. 完善MyTFTP类的错误处理
- [ ] 2. 完善MyTask类的错误处理
- [ ] 3. 实现RawSocket类  

## 05月20号
- [x] 1. 实现了MyApp的退出清理功能

## 05月30号
- [x] 1. 修复MyNormalEvent中 多次调用Work方法，只响应一次的BUG
- [ ] 2. MyTFTP还存在丢帧异常处理功能未完成
- [x] 3. 添加Timer类，哈哈哈， biubiubiu

## 06月06号
- [x] 1. 完成录屏软件(udp不可靠)的编写可以进行远程录屏, biubiubiu

## 06月23号
- [x] 1. 完成Tcp数据流解析工作，添加MyTcpFrame， MyEasyTcpClient， MyEasySocket类
- [ ] 2. 存在潜在问题，delete 的时机问题
- [ ] 3. MyTcpFrame中 EasyWrite 需要考虑写数据的完整性问题

## 06月27号
- [x] 1. socket在服务器端关闭后，再在该socket写数据会导致系统发送SIGPIPE信号，设置忽略SIGPIPE信号
- [x] 2. 设置socket可复用
- [x] 3. 添加DelLater函数，在指定时间后删除继承了MyEvent的类 **待密集测试**
- [x] 4. 发现一个巨大的BUG，啊啊啊，解决了巨大的隐患，顺序很重要  
	（正确示例）  
	m_que.Del((MyNode*)begin,false);   
	begin->CallBackFunc(begin);
- [ ] 5. 设置组播等

## 06月30号
- [x] 1. 每调用一个系统调用都检查返回值  
	MyApp  
	MyTask  
	MyNormalEvent  
	MySock  
	MyTcp  
	MyUdp  
	MyThread  
- [x] 2. 是否需要在CallBack加锁，避免两个线程同时CallBack  
		答: no, addevent是在处理完数据后调用的
- [ ] 3. 加入心跳机制
- [x] 4. 线程的文件描述符是同一个吗  
    答: 对与主线程打开的文件描述符，子线程与其使用的是同一个(指针指向同一个)，可以使用dup复制进行复制
- [x] 5. 信号处理函数是由哪一个线程执行的  
    答: 随机

## 07月04号
- [x] 考虑是否去掉CLASS_TYPE的枚举类型，使用字符串代替  
- [x] 考虑是否去掉MySock的isServer类型  
- [ ] 添加MyICMP类  

## 07月05号
- [x] 将CapServer2上传至服务器后出现问题，修改了EasyWrite函数，保证写入数据的完整性  
- [x] 调整CapServer，客户端推出后删除对象的时间推迟至1分钟后删除，避免服务器崩溃  
- [x] 添加守护进程函数  

## 07月06号
- [x] 添加动态库加载函数  
- [x] 修改epoll_create为epoll_create1  

## 07月07号
- [ ] 添加对写事件的监听  

## 09月07号
- [x] 添加Buildbuf项目
- [x] MyWriteable类可以使用了，哈哈哈

## 09月21号
- [x] 修改Common.*为MyCommon.*

## 09月24号
- [x] 添加 获得socket缓冲区存储的字节数 函数
- [x] 编写MyMsgServer项目
- [ ] 试图优化MyTcpFrame类(EasyWrite, Frame)
- [x] BuildBuf的string选项有问题，需要修改
- [x] Sqlite3添加 事物机制的函数

## 10月14号
- [ ] 考虑添加获得消息帧的智能过滤功能


## 2018 2月3号
- [x] 新年快乐，新的一年有新事件，哈哈哈
- [x] 新的MyFrame添加了MyTask的 发送队列，收队列也可以使用，添加线程的唯一标识，便于快速索引线程对象。
- [x] 现在的MyFrame可以和其他的基于帧循环的框架整合到一块，并可以使用MyFrame的完整的事件功能，网络功能。
- [ ] 但是还有一些缺陷，比如定时器处理的并不完美(目前使用没问题，但是代码写的很差)。
- [ ] 数据流解析成帧，如果传入数据不对容易导致程序崩溃
- [x] 新功能的添加使一些实现变得简单，所以要删除和修改现在显得无用的类(例如： MyAllEvent(删除)，MyNormalEvent(修改))
- [x] 之后的重点也是放在提升稳定性，增加框架功能，而不是依赖此框架扩展周边功能(例如：MyICMP，MyTFTP，MyRaw，MyMouse等一些扩展功能)
- [ ] 序列化与反序列化提上日程，考虑逐步淘汰之前的构造buffer的方法

## 3月16号
- [x] MyFrame调用退出函数造成异常退出，原因是m_normal_event删除的时候未删除成功，MyError宏调用了退出函数

## 6月9号
- [x] 解决线程之间产生的事件(Update)无法传递的问题（事件产生的事件可以由线程传递(m_send)，而忽略了线程产生的事件的
- [ ] 客户端对象无缘无故的调用了析构函数的问题，未解决。。。


## 框架的各个消息队列
1. MyEvent
	* m_ev_send_que 
		* 事件产生的子事件队列
2. MyTask
	* m_send
		* 向其它线程发送事件的队列
	* m_recv
		* 收到的事件队列
	* m_que
		* 工作队列
	* m_ev_que
		* 接受其他线程发送的事件，并交由Update函数处理


## TODO
- [ ] 测试MyVec类
- [ ] 整理MySock类
- [ ] 完成MyFileEvent类
- [ ] 完成MyHash的编写











# end
